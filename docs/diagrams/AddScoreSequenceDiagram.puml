@startuml
!include style.puml

box Logic LOGIC_COLOR_T1
participant ":LogicManager" as LogicManager LOGIC_COLOR
participant ":AddressBookParser" as AddressBookParser LOGIC_COLOR
participant ":AddScoreCommandParser" as AddScoreCommandParser LOGIC_COLOR
participant "scoreDescriptor\n:ScoreDescriptor" as ScoreDescriptor LOGIC_COLOR
participant "addScoreCommand\n:AddScoreCommand" as AddScoreCommand LOGIC_COLOR
participant ":CommandResult" as CommandResult LOGIC_COLOR
end box

box Model MODEL_COLOR_T1
participant ":Model" as Model MODEL_COLOR
participant "assessmentToEdit\n:Assessment" MODEL_COLOR
end box

[-> LogicManager : execute("addscore \n-a Midterm -n Van Nhi -s 95")
activate LogicManager

LogicManager -> AddressBookParser : parseCommand("addscore \n-a Midterm -n Van Nhi -s 95")
activate AddressBookParser

create AddScoreCommandParser
AddressBookParser -> AddScoreCommandParser
activate AddScoreCommandParser

AddScoreCommandParser --> AddressBookParser
deactivate AddScoreCommandParser

AddressBookParser -> AddScoreCommandParser : parse("-a Midterm \n-n Van Nhi -s 95")
activate AddScoreCommandParser

create ScoreDescriptor
AddScoreCommandParser -> ScoreDescriptor
activate ScoreDescriptor

ScoreDescriptor --> AddScoreCommandParser : scoreDescriptor
deactivate ScoreDescriptor


create AddScoreCommand
AddScoreCommandParser -> AddScoreCommand : AddScoreCommand(scoreDescriptor)
activate AddScoreCommand

AddScoreCommand --> AddScoreCommandParser : addScoreCommand
deactivate AddScoreCommand

AddScoreCommandParser --> AddressBookParser : addScoreCommand
deactivate AddScoreCommandParser

destroy ScoreDescriptor

'hidden arrow to position destroy marker
Model -[hidden]->
destroy AddScoreCommandParser

AddressBookParser --> LogicManager : addScoreCommand
deactivate AddressBookParser

'hidden arrow to position destroy marker
Model -[hidden]->
destroy AddressBookParser

LogicManager -> AddScoreCommand : execute()
activate AddScoreCommand

AddScoreCommand -> Model : getAssessmentList()
AddScoreCommand -> Model : getStudentList()

AddScoreCommand -> AddScoreCommand : getToEditAssessment()
activate AddScoreCommand

AddScoreCommand --> AddScoreCommand : assessmentToEdit
deactivate AddScoreCommand

'hidden arrow to add extra spacing
Model -[hidden]->

AddScoreCommand -> AddScoreCommand : getToEditStudents()
activate AddScoreCommand

AddScoreCommand --> AddScoreCommand : studentToEdit
deactivate AddScoreCommand

AddScoreCommand -> "assessmentToEdit\n:Assessment" : setScore()
AddScoreCommand -> Model : setStudent()

create CommandResult
AddScoreCommand -> CommandResult
activate CommandResult

CommandResult --> AddScoreCommand
deactivate CommandResult

AddScoreCommand --> LogicManager
deactivate AddScoreCommand

[<--LogicManager
deactivate LogicManager

@enduml
